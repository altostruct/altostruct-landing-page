{"version":3,"file":"component---src-pages-blog-index-tsx-3555adb674b74f1b7350.js","mappings":"yJAgBA,IATA,SAAiBA,GACf,IAAQC,EAAaD,EAAbC,SACR,OACE,uBAAKC,UAAU,kDACZD,K,mCCQP,IAhBe,WACb,OACE,0BAAQC,UAAU,UAChB,2BACE,2DACA,qCACW,qBAAGC,KAAK,6BAAR,uBAEX,gDACA,yEAEF,+B,gHC4GN,WAAeC,EAAAA,EAAAA,KA9Df,WACE,IAnDMC,EAmDN,GAA8BC,EAAAA,EAAAA,KAAtBC,EAAR,EAAQA,EAAGC,EAAX,EAAWA,eAQX,SAASC,EAAKT,GACZ,OAAKA,EAAMU,MAGT,qBAAGR,UAAU,MAAMC,KAAMK,EAAiB,QAAUR,EAAMW,MACxD,uBAAKT,UAAU,qCACb,uBAAKA,UAAU,gBACb,qBAAGA,UAAU,eAAeF,EAAMY,QAClC,sBAAIV,UAAU,mCAAmCF,EAAMU,OACvD,qBAAGR,UAAU,sCACVF,EAAMa,aAET,uBAAKX,UAAU,oDACb,yBAAIF,EAAMc,YACTd,EAAMe,MACL,yBACGR,EAAE,wBAAyB,CAC1BS,MArBGC,EAqBejB,EAAMe,KAAKG,IApBtCC,KAAKC,KAAKH,EAAKI,MAAM,KAAKC,OAAS,WA0BpC,uBAAKpB,UAAU,0BACZF,EAAMuB,OACL,gBAAC,EAAAC,EAAD,CAAaC,IAAI,GAAGF,MAAOvB,EAAMuB,MAAMG,qBAxBxB,KALP,IAACT,EAqCrB,IAAMU,GA5FAtB,GAAWuB,EAAAA,EAAAA,OAEJC,EAAAA,EAAAA,gBAAe,cA8ChBxB,GAAUyB,OA4CFC,KAAI,SAACC,GAAD,OAAeA,EAAKA,QAE5C,OACE,2BACE,gBAAC,IAAD,MAEA,uBAAK9B,UAAU,sBACb,gBAAC,IAAD,KACE,uBAAKA,UAAU,WACZyB,EAAMI,KAAI,SAACE,GACV,OAAO,gBAACxB,EAASwB,OAGrB,yBAAqB,IAAjBN,EAAML,QAAgBf,EAAE,qBAGhC,gBAAC,IAAD","sources":["webpack://altostruct-website-gatsby/./src/components/Content/index.tsx","webpack://altostruct-website-gatsby/./src/components/Footer/Footer.tsx","webpack://altostruct-website-gatsby/./src/pages/blog/index.tsx"],"sourcesContent":["import React from \"react\";\nimport { ReactNode } from \"react\";\n\ninterface ContentProps {\n  children: ReactNode;\n}\n\nfunction Content(props: ContentProps) {\n  const { children } = props;\n  return (\n    <div className=\"pt-10 w-11/12 md:w-4/5 m-auto max-w-screen-2xl\">\n      {children}\n    </div>\n  );\n}\n\nexport default Content;\n","import * as React from \"react\";\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div>\n        <p>Copyright &copy; 2021 Altostruct AB</p>\n        <p>\n          Kontakt: <a href=\"mailto:info@altostruct.se\">info@altostruct.se</a>\n        </p>\n        <p>Org nr: 559244-1561</p>\n        <p>Address: Stockholmsvägen 18, 181 50 Lidingö</p>\n      </div>\n      <div></div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport Topbar from \"@components/Topbar/Topbar\";\nimport Content from \"@components/Content\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { GatsbyImage } from \"gatsby-plugin-image\";\nimport useTranslation from \"../../hooks/useTranslation\";\nimport { useLanguage, withLanguage } from \"../../contexts/LanguageContext\";\nimport Footer from \"@components/Footer/Footer\";\n\nconst usePosts = () => {\n  const language = useLanguage();\n\n  const data = useStaticQuery(graphql`\n    query {\n      en: allContentfulPost(\n        filter: { node_locale: { eq: \"en-US\" }, isPublished: { eq: true } }\n        sort: { fields: createDate, order: DESC }\n      ) {\n        edges {\n          node {\n            slug\n            createDate(formatString: \"YY/MM/DD\")\n            author\n            title\n            description\n            body {\n              raw\n            }\n            image {\n              gatsbyImageData(height: 400, aspectRatio: 1.3)\n            }\n          }\n        }\n      }\n\n      swe: allContentfulPost(\n        filter: { node_locale: { eq: \"sv\" }, isPublished: { eq: true } }\n        sort: { fields: createDate, order: DESC }\n      ) {\n        edges {\n          node {\n            slug\n            createDate(formatString: \"YY/MM/DD\")\n            author\n            title\n            description\n            body {\n              raw\n            }\n            image {\n              gatsbyImageData(height: 400, aspectRatio: 0.8)\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  return data[language].edges;\n};\nfunction Blog() {\n  const { t, languagePrefix } = useTranslation();\n  const languageMap = {};\n  const edges = usePosts();\n\n  const getReadTime = (data: string) => {\n    return Math.ceil(data.split(\" \").length / 100);\n  };\n\n  function Post(props: any) {\n    if (!props.title) return null;\n\n    return (\n      <a className=\"p-2\" href={languagePrefix + \"blog/\" + props.slug}>\n        <div className=\"flex items-center gap-2 md:gap-12\">\n          <div className=\"h-fit flex-1\">\n            <p className=\"font-medium\">{props.author}</p>\n            <h1 className=\"text-lg md:text-3xl font-medium\">{props.title}</h1>\n            <p className=\"mt-2 text-gray-500 hidden md:block\">\n              {props.description}\n            </p>\n            <div className=\"mt-4 text-gray-500 text-xs md:text-sm flex gap-4\">\n              <p>{props.createDate}</p>\n              {props.body && (\n                <p>\n                  {t(\"Lästid {{time}} minut\", {\n                    time: getReadTime(props.body.raw),\n                  })}\n                </p>\n              )}\n            </div>\n          </div>\n          <div className=\"max-h-96 w-1/4 md:w-56\">\n            {props.image && (\n              <GatsbyImage alt=\"\" image={props.image.gatsbyImageData} />\n            )}\n          </div>\n        </div>\n      </a>\n    );\n  }\n\n  const posts = edges.map((node: any) => node.node);\n\n  return (\n    <div>\n      <Topbar></Topbar>\n\n      <div className=\" mt-24 flex gap-10\">\n        <Content>\n          <div className=\"m-auto \">\n            {posts.map((post: any) => {\n              return <Post {...post} />;\n            })}\n          </div>\n          <p>{posts.length === 0 && t(\"Inga inlägg...\")}</p>\n        </Content>\n      </div>\n      <Footer></Footer>\n    </div>\n  );\n}\nexport default withLanguage(Blog);\n"],"names":["props","children","className","href","withLanguage","language","useTranslation","t","languagePrefix","Post","title","slug","author","description","createDate","body","time","data","raw","Math","ceil","split","length","image","G","alt","gatsbyImageData","posts","useLanguage","useStaticQuery","edges","map","node","post"],"sourceRoot":""}