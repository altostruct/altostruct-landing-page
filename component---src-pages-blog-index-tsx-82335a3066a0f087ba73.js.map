{"version":3,"file":"component---src-pages-blog-index-tsx-82335a3066a0f087ba73.js","mappings":"yJAgBA,IATA,SAAiBA,GACf,IAAQC,EAAaD,EAAbC,SACR,OACE,uBAAKC,UAAU,kDACZD,K,sGC+GP,WAAeE,EAAAA,EAAAA,KA/Df,WACE,IAnDMC,EAmDEC,GAAMC,EAAAA,EAAAA,KAAND,EAQR,SAASE,EAAKP,GACZ,OAAKA,EAAMQ,MAGT,qBAAGC,KAAM,SAAWT,EAAMU,MACxB,uBAAKR,UAAU,qCACb,uBAAKA,UAAU,gBACb,qBAAGA,UAAU,eAAeF,EAAMW,QAClC,sBAAIT,UAAU,mCAAmCF,EAAMQ,OACvD,qBAAGN,UAAU,sCACVF,EAAMY,aAET,uBAAKV,UAAU,oDACb,yBAAIF,EAAMa,YACTb,EAAMc,MACL,yBACGT,EAAE,wBAAyB,CAC1BU,MArBGC,EAqBehB,EAAMc,KAAKG,IApBtCC,KAAKC,KAAKH,EAAKI,MAAM,KAAKC,OAAS,WA0BpC,uBAAKnB,UAAU,0BACZF,EAAMsB,OACL,gBAAC,EAAAC,EAAD,CAAaC,IAAI,GAAGF,MAAOtB,EAAMsB,MAAMG,qBAxBxB,KALP,IAACT,EAqCrB,IAAMU,GA5FAtB,GAAWuB,EAAAA,EAAAA,OAEJC,EAAAA,EAAAA,gBAAe,cA8ChBxB,GAAUyB,OA6CnBC,KAAI,SAACC,GAAD,OAAeA,EAAKA,QACxBC,QAAO,SAACD,GAAD,QAAiBA,EAAKvB,SAEhC,OACE,2BACE,gBAAC,IAAD,MAEA,uBAAKN,UAAU,cACb,gBAAC,IAAD,KACE,uBAAKA,UAAU,UACZwB,EAAMI,KAAI,SAACG,GACV,OAAO,gBAAC1B,EAAS0B,OAGrB,yBAAqB,IAAjBP,EAAML,QAAgBhB,EAAE","sources":["webpack://altostruct-website-gatsby/./src/components/Content/index.tsx","webpack://altostruct-website-gatsby/./src/pages/blog/index.tsx"],"sourcesContent":["import React from \"react\";\nimport { ReactNode } from \"react\";\n\ninterface ContentProps {\n  children: ReactNode;\n}\n\nfunction Content(props: ContentProps) {\n  const { children } = props;\n  return (\n    <div className=\"pt-10 w-11/12 md:w-4/5 m-auto max-w-screen-2xl\">\n      {children}\n    </div>\n  );\n}\n\nexport default Content;\n","import React from \"react\";\nimport Topbar from \"@components/Topbar/Topbar\";\nimport Content from \"@components/Content\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { GatsbyImage } from \"gatsby-plugin-image\";\nimport useTranslation from \"../../hooks/useTranslation\";\nimport { useLanguage, withLanguage } from \"../../contexts/LanguageContext\";\n\nconst usePosts = () => {\n  const language = useLanguage();\n\n  const data = useStaticQuery(graphql`\n    query {\n      en: allContentfulPost(\n        filter: { node_locale: { eq: \"en-US\" } }\n        sort: { fields: createDate, order: DESC }\n      ) {\n        edges {\n          node {\n            slug\n            createDate(formatString: \"YY/MM/DD\")\n            author\n            title\n            description\n            body {\n              raw\n            }\n            image {\n              gatsbyImageData(height: 400, aspectRatio: 1.3)\n            }\n          }\n        }\n      }\n\n      swe: allContentfulPost(\n        filter: { node_locale: { eq: \"sv\" } }\n        sort: { fields: createDate, order: DESC }\n      ) {\n        edges {\n          node {\n            slug\n            createDate(formatString: \"YY/MM/DD\")\n            author\n            title\n            description\n            body {\n              raw\n            }\n            image {\n              gatsbyImageData(height: 400, aspectRatio: 0.8)\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  return data[language].edges;\n};\nfunction Blog() {\n  const { t } = useTranslation();\n  const languageMap = {};\n  const edges = usePosts();\n\n  const getReadTime = (data: string) => {\n    return Math.ceil(data.split(\" \").length / 100);\n  };\n\n  function Post(props: any) {\n    if (!props.title) return null;\n\n    return (\n      <a href={\"/blog/\" + props.slug}>\n        <div className=\"flex items-center gap-2 md:gap-12\">\n          <div className=\"h-fit flex-1\">\n            <p className=\"font-medium\">{props.author}</p>\n            <h1 className=\"text-lg md:text-3xl font-medium\">{props.title}</h1>\n            <p className=\"mt-2 text-gray-500 hidden md:block\">\n              {props.description}\n            </p>\n            <div className=\"mt-4 text-gray-500 text-xs md:text-sm flex gap-4\">\n              <p>{props.createDate}</p>\n              {props.body && (\n                <p>\n                  {t(\"Lästid {{time}} minut\", {\n                    time: getReadTime(props.body.raw),\n                  })}\n                </p>\n              )}\n            </div>\n          </div>\n          <div className=\"max-h-96 w-1/4 md:w-56\">\n            {props.image && (\n              <GatsbyImage alt=\"\" image={props.image.gatsbyImageData} />\n            )}\n          </div>\n        </div>\n      </a>\n    );\n  }\n\n  const posts = edges\n    .map((node: any) => node.node)\n    .filter((node: any) => !!node.title);\n\n  return (\n    <div>\n      <Topbar></Topbar>\n\n      <div className=\"mt-24 flex\">\n        <Content>\n          <div className=\"m-auto\">\n            {posts.map((post: any) => {\n              return <Post {...post} />;\n            })}\n          </div>\n          <p>{posts.length === 0 && t(\"Inga inlägg...\")}</p>\n        </Content>\n      </div>\n    </div>\n  );\n}\nexport default withLanguage(Blog);\n"],"names":["props","children","className","withLanguage","language","t","useTranslation","Post","title","href","slug","author","description","createDate","body","time","data","raw","Math","ceil","split","length","image","G","alt","gatsbyImageData","posts","useLanguage","useStaticQuery","edges","map","node","filter","post"],"sourceRoot":""}